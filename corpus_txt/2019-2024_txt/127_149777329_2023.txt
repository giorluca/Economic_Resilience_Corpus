Predicting economic resilience of territories in Italy during the COVID-19 first lockdown

Title:  “Predicting economic resilience of territories in Italy during the COVID-19 first lockdown” Authors:  Francesco Pierri, Francesco Scotti, Giovanni Bonaccorsi, Andrea Flori and Fabio Pammolli Journal:  Expert Systems with Applications Publisher:  Elsevier Year:  2023 Doi:  https://doi.org/10.1016/j.eswa.2023.120803   Expert Systems With Applications 232 (2023) 120803Available online 20 June 20230957-4174/© 2023 The Authors. Published by Elsevier Ltd. This is an open access article under the CC BY license (http://creativecommons.org/licenses/by/4.0/).Contents lists available at ScienceDirectExpert Systems With Applicationsjournal homepage: www.elsevier.com/locate/eswaPredicting economic resilience of territories in Italy during the COVID-19first lockdownFrancesco Pierri a,∗, Francesco Scotti b, Giovanni Bonaccorsi b, Andrea Flori b, Fabio Pammolli ba Department of Electronics, Information and Bioengineering, Politecnico di Milano, Milano, Italyb Department of Management, Economics and Industrial Engineering, Politecnico di Milano, Milano, ItalyA R T I C L E I N F ODataset link: http://dati.istat.it/Keywords:ClassificationCOVID-19Economic performanceLockdownPredictionResilienceA B S T R A C TThis paper aims to predict the economic resilience to crises of territories based on local pre-existing socioeco-nomic characteristics. Specifically, we consider the case of Italian municipalities during the first wave of theCOVID-19 pandemic, leveraging a large-scale dataset of cardholders performing transactions in Point-of-Sales.Based on a set of machine learning classifiers, we show that network-based measures and variables relatedto the social, economic, demographic and environmental dimensions are relevant predictors of the economicresilience of Italian municipalities to the crisis. In particular, we find accurate classification performance bothin balanced and un-balanced scenarios, as well as in the case we restrict the analysis to specific geographicalareas. Our analysis predicts that territories with larger income per capita, soil consumption, concentrationof real estate activities and commuting network centrality in terms of closeness and Pagerank constitute theset of most affected areas, experiencing the strongest reduction of economic activities during the COVID-19pandemic. Overall, we provide an application of an early-warning system able to provide timely evidenceto policymakers about the detrimental effects generated by natural disasters and severe crisis episodes, thuscontributing to optimize public decision support systems.1. IntroductionThe necessity to safeguard public health objectives represents themain priority for decision-makers during global emergencies such asthe COVID-19 pandemic. Hence, data-driven expert and intelligentsystems have been devised to help health organizations predict mortal-ity (Smith & Alvarez, 2021), forecast new cases (Ertem, Araz, & Cruz-Aponte, 2022a) and manage hospital readmissions (Davazdahemami,Zolbanin, & Delen, 2022).Next to public health, the most relevant concern for governmentsand organizations is to preserve the economic well-being of individ-uals while keeping them safe. This requires the collection and inte-gration of multi-faceted data on individuals’ behaviors, the formula-tion of alternative policy scenarios for intervention, the evaluation oftheir potential outcomes, and their implementation. All these stepsidentify elements of the development of decision support systems forpublic governance (Ibrahim & Larsson, 2019) and for evidence-basedpolicy-making (Howlett, 2019).Furthermore, the emergency context of pandemics increases theuncertainty and complexity of these strategic choices. On the one hand,this is due to the fact that economic signals are not available with∗ Correspondence to: Department of Electronics, Information and Bioengineering, Politecnico di Milano, Via Giuseppe Ponzio, 34, 20133, Milano, Italy.E-mail addresses: francesco.pierri@polimi.it (F. Pierri), francesco.scotti@polimi.it (F. Scotti), giovanni.bonaccorsi@polimi.it (G. Bonaccorsi),andrea.flori@polimi.it (A. Flori), fabio.pammolli@polimi.it (F. Pammolli).sufficient frequency and territorial granularity. On the other hand, itis difficult to disentangle all the factors contributing to individuals’decisions in the complex and challenging environment resulting fromemergencies.Finally, it is extremely relevant that the employed methodology andalgorithms are transparent with respect to their decision criteria and aseasily interpretable as possible (Mitchell, Potash, Barocas, D’Amour, &Lum, 2021; Shneiderman, 2020).In this work, we tackle the problem of predicting the economicresilience of territories inside a specific country during emergencysituations.In terms of regional resilience, we refer to ‘‘the ability of a regionto recover successfully from shocks to its economy that either throwit off its growth path or have the potential to throw it off its growthpath’’, consistently with the definition provided by Hill, Wial, andWolman (2008). Despite the growing popularity of the concept ofregional resilience, due to recent global crises and Grand Challengesaffecting our society, main existing contributions focused on theoret-ical frameworks, discussing the process through which territories caneffectively deal with large scale shocks, and potentially transform theirhttps://doi.org/10.1016/j.eswa.2023.120803Received 3 March 2023; Received in revised form 19 April 2023; Accepted 8 June 2023Expert Systems With Applications 232 (2023) 1208032F. Pierri et al.economic structure towards new multiple equilibria (Boschma, 2015;Christopherson, Michie, & Tyler, 2010; Hassink, 2010; Pike, Dawley, &Tomaney, 2010; Simmie & Martin, 2010).Due to recent frequent and hazardous natural disasters, empiricalliterature on regional resilience also paid attention to those socio-economic factors that may reduce the negative impact of natural disas-ters such as floods (Liu et al., 2020, 2021) and earthquakes (Du, Wang,Xie, & Dong, 2023; Lu, Li, Mao and Wang, 2022). Moreover, authorsfocused on specific sectors, such as Transportation (Potter, Soroka, &Naim, 2022) and Energy (Erker, Stangl, & Stoeglehner, 2017), thatoffer critical services to regions and that may be particularly vulnerableto the disruption of infrastructure networks. Conversely, only a fewstudies analyzed the drivers of regional resilience during the healthcareemergency caused by the COVID-19 pandemic.For instance, Lu et al. (2022) highlight how cultural factors suchas dialect diversity may reduce regional mobility resilience, whereasareas characterized by higher cultural tightness experienced strongersocial connection during the health crisis. Hu, Li, and Dong (2022)show how a larger share of secondary and tertiary activities, a lowerdiversification of the economic structure and a higher degree of eco-nomic openness characterize a lower regional resilience in terms ofcontagions. Available studies, thus, mainly consider regional resiliencein terms of resistance to new infections, whereas they neglect theeconomic performance of territories. Furthermore, Costa, Sallusti, Vi-carelli, and Zurlo (2022) show that the size, sector and digitalizationlevel of Italian companies are key drivers of their resilience. However,such analysis is performed at the firm level, while policymakers maybenefit more from an effective decision support system developed atthe territorial level, a granularity that is more consistent with theimplementation level of restrictions and support policy packages.1To this end, we propose an almost in real-time indicator of theeconomic performance of Italian municipalities using the variationin consumption of citizens during the COVID-19 pandemic. We thencollect different socioeconomic features of these areas and predict theirperformance during the healthcare crisis with a wide set of machinelearning techniques. In particular, we cover the economic, social, envi-ronmental, infrastructure and demographic dimensions coherently withthe empirical approaches adopted in a set of recent studies assessingurban and regional resilience (Cardoni, Noori, Greco, & Cimellaro,2021; Shi et al., 2021; Yi, Wang, Li, & Dong, 2023; Zhang & Wang,2023). Finally, we explore the prediction results with the use of Shapleyvalues, in line with Explainable AI principles (Kim, Park, & Suh, 2020;Rai, 2020; Shin, 2021). In this way, we provide a practical applicationof how policymakers may benefit from the usage of decision analyticaltools to increase the efficiency and effectiveness of their functionalitiesand decision processes (Phillips-Wren, Daly, & Burstein, 2021).We show that network-based measures combined with economic,social, demographic and environmental variables are relevant predic-tors of the economic performance of Italian municipalities during theCOVID-19 pandemic. In particular, territories with higher income percapita, soil consumption, concentration of real estate activities andnetwork centrality in terms of closeness and page rank display a lowerlevel of economic resilience to the healthcare emergency. We conductclassification experiments in three different settings, first focusing onpredicting the most and least affected territories overall, then exper-imenting with an unbalanced scenario, and finally considering a usecase based on the North/South divide.1 For instance, before the start of the lockdown (9th of March 2020) specificrestrictions targeted some Italian municipalities displaying high levels ofcontagion. Moreover, since the 6th of November 2020 the Italian governmentdifferentiated the stringency level of restrictions at the regional level basedon the local pandemic intensity, adopting a three-tier risk framework. Forfurther details, see also the following link: https://www.gazzettaufficiale.it/eli/gu/2020/11/04/275/so/41/sg/pdf.Overall, our approach allows a decision-maker to identify whichspecific territorial features are reliable predictors of the performanceof territories during emergencies such as the COVID-19 pandemic.Furthermore, our findings may be informative for a wide set of publicstakeholders interested in early warning systems providing evidence onthe resilience and vulnerability of economic activities at the local levelduring relevant crisis episodes.2. Related workThe intersection of social, economic and environmental crises hasenhanced the perceived sense of vulnerability of our society paving theway to new research paths on the concept of regional resilience (Hud-son, 2010). In the field of regional resilience, when referring to ex-ogenous unexpected and disruptive shocks, the concept of resilience isassociated with the resistance to an external disturbance measured asthe speed of return to the equilibrium point and the ability to resumeeither their pre-shock levels or their pre-shock trajectories (Pendall,Foster, & Cowell, 2010).As shown in Fig. 1, our paper contributes to the literature onregional resilience by providing a decision support system able topredict the vulnerability of territories to the COVID-19 pandemic basedon their pre-existing socioeconomic characteristics, thus supportingpolicymakers in the design of more effective packages of support inperiods of emergency.Since climate change led to more frequent extreme events, theimpact of natural disasters on regional resilience has been the objectof recent scrutiny. Extant literature shows a more limited resilienceto seismic events for territories with lower GDP per capita and higherlevels of interconnections and interdependencies among local infras-tructures (Du et al., 2023; Lu, Li et al., 2022). Similarly, higher levelsof investments in flood prevention projects, a higher level of wealth,lower precipitation levels and larger availability of hospital beds areconnected with better resilience performances to floods at the regionallevel (Liu et al., 2020, 2021).On the other hand, more limited empirical evidence studies theeconomic resilience of territories to recent shocks such as the COVID-19 pandemic (Hu et al., 2022; Lu, Zhang et al., 2022). Consistentlywith our research framework, we aim to fill this gap, by providingan analysis of those factors contributing to the economic regionalresilience of Italian municipalities during the COVID-19 pandemic (seeFig. 1).The concept of regional resilience has been investigated underthe economic perspective, highlighting that larger immigration flows,economy diversification, governance innovation, technological variety,knowledge network, quality of institutions, availability of skilled hu-man capital and supportive financial systems are key drivers to reducethe vulnerability of territories to external shocks (Boschma, 2015;Corodescu-Roşca, Hamdouch, & Iaţu, 2023; Hassink, 2010; Huang,2022; Simmie & Martin, 2010; Tan, Hu, Hassink, & Ni, 2020). In linewith such literature, we exploit economic, environmental, demographicand social drivers (Cardoni et al., 2021; Hu et al., 2022; Lin, Peng,Chen, & Zhang, 2022; Liu et al., 2020, 2021; Lu, Li et al., 2022; Lu,Zhang et al., 2022; Tan et al., 2020; Ye, Hu, Lu, Dong, & Gu, 2022) toexplain the economic resilience of Italian municipalities. Furthermore,differently from extant studies, we use mobility network centralityindicators due to the key role of mobility in the spread of contagionand for the resilience of economic activities.We mainly differentiate from previous studies, since our measureof resilience is not based on an aggregation of those factors aimingto explain resilience as in Cardoni et al. (2021), Lin et al. (2022),Liu et al. (2020, 2021), Lu, Li et al. (2022), Lu, Zhang et al. (2022)and Ye et al. (2022). Furthermore, we do not rely on measurementsof resilience based on low-frequency macroeconomic variables as Huet al. (2022), Martin, Sunley, Gardiner, and Tyler (2016) and Tan et al.(2020). Instead, we use as an outcome of resilience the variation ofExpert Systems With Applications 232 (2023) 1208033F. Pierri et al.Fig. 1. Research Framework. We underline and write in bold the dimensions that are included in our research framework and we highlight in blue other contributions addressingin a similar way such points in the regional economic resilience literature.economic consumption at the municipal level obtained through highfrequency transaction data.We use such data since the lack of immediately available andstructured information on the economic damages produced by naturaldisasters and severe crisis episodes hampers near real-time analysesof the resilience of territories hit by shocks and of the speed of theirrecovery process.We aim to introduce transactional data in the decision supportsystem literature since empirical evidence has proved how this typeof information is able to immediately capture the rapid contraction ofhousehold consumption during the pandemic, with a larger reductionin service sectors largely relying on social interactions such as Ac-commodation, Entertaining, Restaurants and Transportation (Carvalhoet al., 2020; Dunn, Hood, Batch, & Driessen, 2021; Hacioglu, Känzig,& Surico, 2020). Furthermore, consumption variation across territoriesobserved through transactional data might be explained by specificcharacteristics of local cardholders such as the income level and theage profile, with areas concentrating high-income users and youngerpopulation cohorts experiencing a lower economic activity during thepandemic (Baker, Farrokhnia, Meyer, Pagel, & Yannelis, 2020; Car-valho et al., 2020; Hacıoğlu-Hoke, Känzig, & Surico, 2021; Martin,Markhvida, Hallegatte, & Walsh, 2020; Sheridan, Andersen, Hansen, &Johannesen, 2020).In addition, in line with our research purpose, transactional datamay provide relevant insights into the resilience of economic systemsagainst the pandemic, since sectors that were less affected by restric-tions due to the provision of primary need goods – such as Grocery– and activities where consumers may easily shift to online shoppingexhibited a lower economic fragility (Bounie, Camara, & Galbraith,2020; Chen, Qian, & Wen, 2021; Chetty, Friedman, Hendren, Stepner, &Team, 2020; Dong, Gozgor, Lu, & Yan, 2021). Moreover, transactionaldata may help explain the impact of pandemic restrictions, based onthe analysis of the ex-ante purchasing behavior of cardholders. Infact, individuals displaying larger expenditures in sectors characterizedby a stronger restriction level show a higher reduction of economicconsumption (Andersen, Hansen, Johannesen, & Sheridan, 2022). Forsuch reasons we expect transactional data to be a relevant source ofinformation to forecast the economic impact of the pandemic acrossterritories.From a methodological perspective, our paper employs K-NearestNeighbor (K-NN), Random Forest and Support Vector Machine (SVM)classifiers, coherently with previous studies in the regional resilienceliterature aiming to explain the factors contributing to reduce thevulnerability of territories to natural disasters (Bassiouni, Chakrabortty,Hussain, & Rahman, 2023; Liu et al., 2020, 2021). Furthermore, weapply Logistic Regression, Multi-Layer Perceptron (MLP) and NetworkAnalysis which have been recently applied also by other contribu-tions in the decision support system literature to investigate COVID-19emergency department readmissions (Davazdahemami et al., 2022),the impact of the pandemic on the tourism sector (Kumar, Misra,& Chan, 2022), and the variation of the centrality of economic sec-tors during the health emergency with respect to business as usualscenarios (Mascaretti et al., 2022).As our main aim is to classify the economic performance of Italianmunicipalities, we do not rely on simple correlation analysis, factoranalysis and linear regression methods, that have been used e.g. by Huet al. (2022), Tan et al. (2020) and Ye et al. (2022) in the regionalresilience literature. Furthermore, in line with Davazdahemami et al.(2022), we use Shapley Values to explain the relevance of variousdrivers of the economic resilience of territories differently from Cardoniet al. (2021) which exploit survey data.Finally, we differentiate from the work of Ertem, Araz, and Cruz-Aponte (2022b) since they rely on specific empirical models relatedto the specific domain of study (regional probabilistic seismic hazardanalysis).Overall, we develop a framework of analysis that allows us toforecast almost in real time the fragility of territories based on theirsocioeconomic characteristics. Our study may thus support policy mak-ers to identify the main drivers of resilience and investment areasto reduce the vulnerability of territories to specific types of shocks(see Fig. 1). Through the identification of relevant characteristics ofterritories able to explain regional resilience, measured based on highfrequency transaction data, we assess the most relevant factors affectingthe economic responses of Italian municipalities during the pandemic.Our study contributes to the development of a decision support systemallowing regulators to deal with emergency periods underlining theadvantage of data-driven and evidence-based decisions.3. Material and methods3.1. Bank transaction dataWe build our primary variable of interest (see Section 3.2) frommeasurements of transactions made by customers of Intesa Sanpaolo,one of the major Italian banks, accounting for a market share largerthan 15% in each region. The data tracks the aggregated daily value oftransactions made by debit/credit cardholders in Point-of-Sales (POSs)of different Italian municipalities. Each data point represents the num-ber and the value of transactions made by bank clients in all POSsExpert Systems With Applications 232 (2023) 1208034F. Pierri et al.of a specific municipality on a certain day. We use data regardingall merchant categories and all transactions made in-person (i.e., noonline purchases). Furthermore, the data comprehend the entire Italianterritory and the full period of analysis without missing days, however,we restrict the analysis to municipalities with an overall populationgreater than 1000 since smaller municipalities often exhibit extremevariability in consumption which is not representative of the entiresample. Overall, our dataset captures over 1 billion bank transactionsfor a total associated value of approximately 48 billion EUR.3.2. Dependent variable of interestEven though a considerable effort has been devoted to fosteringdata-sharing initiatives (Scotti, Pierri, Bonaccorsi, & Flori, 2022), theevaluation of the socio-economic impact of catastrophic events suchas the COVID-19 pandemic is complex due to the systemic natureof the threat, affecting multiple systems at the same time, and theavailability of real-time data (Hynes, Trump, Love, & Linkov, 2020).Most of the time, in similar situations, the evaluation of the effectsof these events is obtained in two ways: either by evaluating themex-post using official statistics or by using a proxy. In the first case,estimates are reliable but often arrive too late and with insufficientdetail for policy-makers to track the evolution of the crisis and actimmediately (Chetty et al., 2020). Regarding the second case, instead,valuable proxies of the impact of natural disasters have been obtainedwith social network data (Kryvasheyeu et al., 2016) and mobilitydata (Buckee et al., 2020). In these cases, estimates are available innearly real-time and with high granularity, however, they representan approximation of the real effects of the disaster and are affectedby measurement and representativity biases (Wesolowski, Eagle, Noor,Snow, & Buckee, 2013). In this work, we propose a new source of datato track the effect of catastrophic events in Italy, bank transaction data.This source represents an improvement with respect to both officialstatistics and usual proxies. In fact, on the one hand, it is available inreal-time and with sufficient granularity. On the other hand, it is betterthan other approximations of the socioeconomic impact of COVID-19 since it directly measures the variation in consumption of bankclients. Variation in consumption does not cover the entire effect ofthe pandemic but constitutes a relevant part of it since consumptionrepresents a significant share of the overall economic output of acountry (Carvalho et al., 2020). Finally, Scotti, Flori, Bonaccorsi, andPammolli (2023) show that the data tracks closely the evolution ofconsumption in official sources, hence confirming that the data arerepresentative of the overall Italian population.In line with a large stream of literature on transaction data (Car-valho et al., 2020; Chen et al., 2021; Sheridan et al., 2020), we firstdefine the weekly Year-on-Year (Y-o-Y ) change in the aggregate con-sumption, i.e., the variation of the total value of transactions performedby cardholders in POSs located in a given Italian municipality. Informula:𝑌 -𝑜-𝑌 𝑖,𝑤,2020 =𝑆𝑝𝑒𝑛𝑑𝑖𝑛𝑔𝑖,𝑤,2020 − 𝑆𝑝𝑒𝑛𝑑𝑖𝑛𝑔𝑖,𝑤,2019𝑆𝑝𝑒𝑛𝑑𝑖𝑛𝑔𝑖,𝑤,2019,where 𝑆𝑝𝑒𝑛𝑑𝑖𝑛𝑔𝑖,𝑤,𝑌 is the total weekly economic consumption calcu-lated in a 7-day time window in municipality 𝑖, in the week 𝑤 of theyear 𝑌 .Finally, we define our main dependent variable 𝑌 as the averageof the Y-o-Y variable in the weeks after the period of restrictions.Let lock be the week in which the lockdown is applied, then for eachmunicipality i we define:𝑌𝑖 =∑𝑤𝑙𝑜𝑐𝑘+4𝑤𝑙𝑜𝑐𝑘+1𝑌 -𝑜-𝑌 𝑖,𝑤4We exclude the week when the lockdown was put in place becausethe decrease in mobility was not abrupt, and the effect of mobilityrestrictions were more visible in the following week (Bonaccorsi et al.,2020, 2021).Fig. 2. (top) Distribution of the Y variable for each Italian municipality in our dataset.Gray areas show municipalities for which data is not available whereas white areasshow municipalities present in our data but excluded from our analysis either becausetheir population is below 1000 or because the Y value is an outlier (i.e., smaller thanthe 1th percentile and larger than the 99th percentile). (bottom) Weekly distributionsof the 𝛥𝑆𝑝𝑒𝑛𝑑𝑖𝑛𝑔𝑖,𝑡 variable. Triangles indicate the mean value of the distributions.Boxplots do not show outliers. The green shade indicates the period chosen in ouranalysis to compute the Y variable as the average value of weekly Y-o-Y for eachmunicipality.Fig. 2 (bottom panel) shows the temporal distribution of weekly Y-o-Y, computed for each municipality. The upper panel in Fig. 2 providesthe geographical distribution of our dependent 𝑌𝑖,𝑡 variable. The firstCOVID-19 case was reported in Italy on February 17th, 2020; socialdistancing restrictions were quickly introduced in the Northern regionsin order to prevent localized clusters of contagion. Finally, on March9th a full lockdown was imposed on the entire country, restrictingmovements between and within regions until May 3rd (excluded).We can notice that the mobility restrictions imposed during the fulllockdown caused a strong decrease in consumption.3.3. Socioeconomic predictorsIn terms of predictors of the resilience of Italian municipalities, weinclude those factors that may be connected with the impact of theCOVID-19 pandemic on the reduction of economic activities.Expert Systems With Applications 232 (2023) 1208035F. Pierri et al.Due to the heterogeneity in the impact of restrictions across territo-ries, that may have been associated with alternative pre-existing levelsof wealth and disparities (Bonaccorsi et al., 2020, 2021; Polyakova,Kocks, Udalova, & Finkelstein, 2020-11-10), we include Income percapita and Inequality in the distribution of income in our predictionmodel. Inequality is computed as the ratio between the mean andthe median income per capita of each Italian municipality. Since thedistribution of income is usually skewed to the right, the former valuewill be usually larger than the latter, hence higher inequality will besignaled by a greater mean-to-median ratio. Furthermore, the policyoutcome may be also driven by the size of municipalities (Ascani,Faggian, & Montresor, 2020; Hacıoğlu-Hoke et al., 2021). Therefore,we consider the municipality surface (Area) and the number of localinhabitants (Population) as additional predictors.Restrictions have targeted economic sectors with different levelsof stringency depending on the level of human interactions and theirexpected contribution to the resurgence of the contagion (Ascani, Fag-gian, Montresor, & Palma, 2021; Di Porto, Naticchioni, & Scrutinio,2022). Consequently, our model takes into account the proportionof workers employed in essential sectors (Essential Workers (%)) thatwere allowed to stay open even during the lockdown.2 Moreover, thedigitalization level of business activities, the education level and ICTskills of employees contribute to the possibility to work remotely (Bar-bieri, Basso, & Scicchitano, 2022; Espinoza & Reznikova, 2020). Forsuch reasons, we consider the estimated proportion of workers thatare expected to work remotely (Teleworkers (%)) in our model. TheTelework variable represents the sum of the proportion of workersemployed in sector 𝑘 (𝐸𝑚𝑝𝑙𝑜𝑦𝑒𝑒𝑠𝑖,𝑘) in municipality 𝑖 weighted bya coefficient approximating the percentage of employees whose jobmay be performed remotely in sector 𝑘 (𝑇 𝑒𝑙𝑒𝑤𝑜𝑟𝑘 𝑠ℎ𝑎𝑟𝑒𝑘) estimatedby Espinoza and Reznikova (2020). In formula:𝑇 𝑒𝑙𝑒𝑤𝑜𝑟𝑘 𝐼𝑛𝑑𝑒𝑥𝑖 =∑𝑘𝐸𝑚𝑝𝑙𝑜𝑦𝑒𝑒𝑠𝑖,𝑘 ∗ 𝑇 𝑒𝑙𝑒𝑤𝑜𝑟𝑘 𝑠ℎ𝑎𝑟𝑒𝑘Our model contains also a measure of the percentage of residentswith a fast internet connection (Broadband) to take into account theextent to which territories may be digitally connected. This is computedas the portion of residents that are reached by an Internet Connectionwhose speed is larger than 100 Mbps.Since the technological and labor market structure can significantlyinfluence the policy outcome in terms of contraction of the economicactivity (Ascani et al., 2020; Ferraresi et al., 2021; Mascaretti et al.,2022), we include also the proportion of workers employed acrossdifferent NACE sectors at 1 digit level of detail with respect to thetotal number of employees in the corresponding municipality. Ta-ble 1 reports the list of sectors used in our analysis. Furthermore, weaccount for the Herfindahl–Hirschman index of employees across dif-ferent sectors, as a measure of economic diversification (HHI workers).We compute it across different sectors as the squared ratio between thenumber of employees in sector 𝑘 in municipality 𝑖 and the total numberof employees in municipality 𝑖. In formula:HHI workers𝑖 =∑𝑘[ 𝐸𝑚𝑝𝑙𝑜𝑦𝑒𝑒𝑠𝑘,𝑖𝑇 𝑜𝑡𝑎𝑙 𝐸𝑚𝑝𝑙𝑜𝑦𝑒𝑒𝑠𝑖]2Moreover, we consider the percentage of people below 15 years old andabove 65 years old as the local proportion of individuals not involvedin business activities due to age constraints (Unoccupied(%)). In thisway, we account also for demographic differences across municipalitiesthat may have affected the pandemic intensity due to the heterogeneousimpact of the virus across population cohorts with different age (Ace-moglu, Chernozhukov, Werning, Whinston, et al., 2020; Baker et al.,2020; Fabbri, Gozzi, & Zanco, 2021; Makris, 2021; Sheridan et al.,2020).2 Essential sectors are identified based on the DPCM n.76 published bythe Italian Government on the 22nd of March 2020 and finally updated onthe 25th of March 2020. The document is available at the following link:https://www.gazzettaufficiale.it/eli/id/2020/03/26/20A01877/sg.Table 1NACE Rev. 2/ATECO codes for working sectors considered in our analysis.Code DescriptionA Agriculture, forestry and fishingB Mining and quarryingC ManufacturingD Electricity, gas, steam and air conditioning supplyE Water supply, sewerage, waste management and remediationactivitiesF ConstructionG Wholesale and retail trade, repair of motor vehicles andmotorcyclesH Transportation and storageI Accommodation and food service activitiesJ Information and communication activitiesK Financial and insurance activitiesL Real estate activitiesM Professional, scientific and technical activitiesN Administrative and support service activitiesO Public administration and defense, compulsory social securityP EducationQ Human health and social work activitiesR Arts, entertainment and recreationS Other service activitiesT Activities of households as employers, undifferentiated goods-and services-producing activities of households for own useU Activities of extraterritorial organizations and bodiesWe then consider a list of factors linked to environmental character-istics of Italian municipalities, that may have fostered or reduced thediffusion of the virus (Lim, Kweon, Kim, Kim, & Lee, 2021; Weaver,Head, Gould, Carlton, & Remais, 2022) and interacted with other natu-ral threats (Djalante, Shaw, & DeWit, 2020). Such factors may providerelevant insights regarding the anthropization level of local territories.For such reasons, our model encompasses the Soil Consumption (%),the Hydro Hazard, the Landslide Hazard and the Seismic Hazard asadditional predictors.3.4. Mobility network centralitiesSeveral contributions have highlighted the role of mobility as arelevant predictor of both the diffusion of contagion (Chang et al.,2020; Chinazzi et al., 2020; Oliver et al., 2020) and the resilience ofterritories during emergencies (Bonaccorsi et al., 2020; Song, Zhang,Sekimoto, & Shibasaki, 2014). For these reasons, we extend our set ofsocioeconomic features by computing several node centrality measuresthat describe the importance of each municipality in the Italian networkof commuting mobility.We leverage official measurements of commuters traveling betweenmunicipalities daily, for work or study reasons, produced during thelast Italian national census (2011) and made available by the ItalianNational Institute of Statistics (ISTAT).3 We represent the networkas a weighted directed graph 𝐺(𝑉 ,𝐸) where vertices (or nodes) 𝑉represent Italian municipalities and edges 𝐸 represent the number ofindividuals that declared to commute between two municipalities on adaily basis. The network contains 8083 nodes and 555,906 edges, for atotal of 28,802,640 individuals moving between Italian municipalities(including self-loops), nearly half of the 2011 Italian population. Wecompute the following node centrality measures:• Betweenness: it is a measure of centrality in a graph based onshortest paths, computed as the sum of the fraction of all-pairsshortest paths that pass through each node. In a weighted graph,the shortest path is the path that connects two nodes with theminimum sum of weights on the edges of the path. This centralityquantifies the probability for a node to act as a bridge along theshortest path between two other nodes (Freeman, 1977).3 Available at https://www.istat.it/it/archivio/139381.Expert Systems With Applications 232 (2023) 1208036F. Pierri et al.Table 2Descriptive statistics of socio-economic and network-based variables used to encode Italian municipalities in our study.Variable Mean STD % MIN 25% 50% 75% MAXY 0.00 0.69 −0.87 −0.40 −0.15 0.17 4.84Inequality 0.77 0.09 0.43 0.72 0.77 0.82 1.77Population 11 387.36 55 336.72 1001.00 2157.50 4344.50 9516.00 2 864 731.00Income per Capita 17 895.49 3756.35 8676.92 14 906.54 18 024.37 20 554.15 46 216.40Area 45.47 59.64 1.23 13.09 26.27 53.99 1287.39Essential workers (%) 0.50 0.07 0.21 0.46 0.50 0.54 0.87Teleworkers (%) 0.27 0.05 0.12 0.24 0.26 0.29 1.32HHI workers 0.22 0.09 0.09 0.16 0.19 0.24 0.78Unoccupied (%) 0.37 0.03 0.29 0.35 0.37 0.38 0.53Soil consumption (%) 12.42 11.25 0.53 4.75 8.78 16.09 90.43Hydro hazard 0.03 0.08 0.00 0.00 0.00 0.02 1.00Landslide hazard 0.04 0.10 0.00 0.00 0.00 0.04 1.00Seismic hazard 0.13 0.07 0.03 0.06 0.13 0.18 0.28Broadband 0.88 0.15 0.00 0.85 0.94 0.97 1.00PageRank 0.00 0.00 0.00 0.00 0.00 0.00 0.04Eigenvector 0.00 0.01 0.00 0.00 0.00 0.00 1.00Closeness 15.44 7.23 0.00 8.97 16.00 21.40 31.30Betweenness 0.00 0.01 0.00 0.00 0.00 0.00 0.57• Closeness: it is also a measure of node centrality based on short-est paths, computed as the reciprocal of the sum of the length ofthe shortest paths between the node and all other reachable nodesin the graph. It indicates how close is a node to other nodes in thegraph (Okamoto, Chen, & Li, 2008).• Eigenvector: it is a measure of node centrality based on thecentrality of neighbors. The eigenvector centrality for node 𝑖 isthe 𝑖th element of the vector 𝑥 defined by the equation 𝐴𝑥 = 𝜆𝑥where A is the adjacency matrix of a graph. A high eigenvectorscore means that a node is connected to many nodes that havehigh scores themselves (Bonacich, 2007).• Pagerank: it is a measure of centrality introduced to rank web-pages in search engine queries (Page, Brin, Motwani, & Winograd,1999), which accounts for both the number and quality of links toa node, assuming that more important nodes will likely be morereachable from other nodes.In particular, in order to compute shortest paths for Closeness andBetweenness centralities we consider the distance between two nodesas the reciprocal of the weight on the edge connecting the two nodes,similar to Bonaccorsi et al. (2020) and Latora and Marchiori (2007). Weexclude basic centrality measures such as Degree – the number of edgesconnected to a given node – and Strength – the sum of the weights onthe edges connected to a given node – as they are highly correlatedwith socioeconomic variables such as population and density, whereaswe aim to capture non-trivial characteristics of the mobility network ofItalian municipalities.3.5. Dataset summaryThe total number of observations (municipalities) in our sample is4672. Each observation is encoded in a vector X with 34 dimensions(covariates) plus the Y variable described above, which is used to derivethe class label as defined next. We show pairwise correlations of these35 variables in Fig. 4. We also provide their descriptive statistics inTables 2 and 3.3.6. Machine learning techniquesWe rely on several open-source packages to perform our classifica-tion tasks. We encode each municipality with a vector of socioeconomicand network-based covariates and we assign them a binary label basedon their Y variable in several different settings.We employ scipy (Virtanen et al., 2020) to carry out a hierarchicalclustering of municipalities based on their Z-standardized features,using a cosine distance and average linkage to obtain clusters. SimilarTable 3Descriptive statistics of labor market variables used to encode Italian municipalities inour study.Variable Mean STD % MIN 25% 50% 75% MAXB 0.23 1.35 0.00 0.00 0.00 0.00 52.38C 26.59 17.98 0.00 11.40 22.41 38.92 87.94D 0.39 1.60 0.00 0.00 0.00 0.24 36.66E 1.03 2.60 0.00 0.00 0.17 1.13 44.52F 12.42 7.41 0.00 7.34 10.50 15.41 65.79G 21.80 8.44 2.25 15.89 21.10 27.06 67.09H 5.08 4.77 0.00 2.23 3.79 6.26 71.03I 9.58 7.77 0.00 4.86 7.23 11.43 70.06J 1.18 1.83 0.00 0.28 0.75 1.47 43.81K 2.04 1.73 0.00 1.08 1.82 2.64 51.59L 1.38 1.27 0.00 0.46 1.16 2.00 23.70M 5.61 2.91 0.00 3.60 5.22 7.07 34.88N 3.43 4.38 0.00 1.00 2.15 4.16 64.78P 0.41 0.89 0.00 0.00 0.19 0.45 19.36Q 4.96 5.69 0.00 1.78 3.32 6.01 68.33R 0.82 1.18 0.00 0.20 0.52 1.00 21.00S 3.05 2.32 0.00 1.81 2.69 3.71 44.81results are observed when using euclidean distance or other linkageapproaches, e.g., complete or Ward linkage.We use scikit-learn (Buitinck et al., 2013) to train several binaryclassifiers, namely K-Nearest Neighbors, Logistic Regression, MultilayerPerceptron (MLP), Random Forest and Support Vector Machine (SVM).We apply Z-standardization of features and use default hyperparam-eters as specified in the package. We also employ automl (Feureret al., 2015) to find the optimal configuration for the Random Forestclassifier.We compute SHAP (SHapley Additive exPlanations) values to assessthe importance of features in the binary classification setting. This is agame theoretic approach that explains the output of machine learningmodels by using Shapley values from game theory (Lundberg & Lee,2017a). In particular, we leverage the shap Python library (Lundberg &Lee, 2017b).3.7. Evaluation metricsWe use the following evaluation metrics to assess the performanceof machine learning classifiers (TP = true positives, FP = false positives,FN = false negatives):1. Precision = 𝑇𝑃𝑇𝑃+𝐹𝑃 , the ability of a classifier not to label aspositive a negative sample.2. Recall = 𝑇𝑃𝑇𝑃+𝐹𝑁 , the ability of a classifier to retrieve all positivesamples.Expert Systems With Applications 232 (2023) 1208037F. Pierri et al.Fig. 3. Detailed workflow of the pipeline which describes different steps of our analysis.Fig. 4. Heatmap showing the pairwise Pearson correlations among covariates (plusthe Y variable) in our data. We only show Pearson correlation values significant at𝛼 = 0.05.3. F1-score = 2 Precision⋅RecallPrecision+Recall , the harmonic average of Preci-sion and Recall.4. Area Under the Receiver Operating Characteristic curve(AUROC): the Receiver Operating Characteristic (ROC) curve,which plots the TP rate versus the FP rate, shows the ability ofa classifier to discriminate positive samples from negative onesas its threshold is varied. Larger AUROC values correspond tobetter classifiers, with the perfect classifier yielding AUROC =1.5. Area Under the Precision–Recall Curve (AUPRC): thePrecision–Recall curve shows the trade-off between Precisionand Recall values as the classification threshold value is varied.AUPRC is a widely adopted measure of success of prediction insettings when the classes are very imbalanced. A high area underthe curve represents both high recall and high precision.We evaluate the results of hierarchical clustering through the av-erage purity score of clusters obtained at each step of the clusteringprocedure. Purity is computed by (1) assigning each observation to theclass which is most frequent in the cluster, and (2) counting the numberof correctly assigned observations within each cluster and dividing bythe total number of observations. Higher levels of purity score in abalanced setting indicate more homogeneous clusters.Fig. 5. (top) Distribution of the Y variable highlighting the bottom and top 20%values that indicate, in turn, most and least affected territories for 𝐾 = 20. (bottom)Purity score versus the number of clusters obtained through agglomeration clustering,for different choices of 𝐾. The 𝑥-axis scale is logarithmic.4. ResultsIn this section we present results from three different classificationexperiments. A detailed workflow of our analysis is shown in Fig. 3.4.1. Classification of territories in the tails of the distributionWe formulate our main binary classification problem by consideringthe tails of the distribution of Y. Specifically, for 𝐾 ∈ [10, 15, 20, 25,30, 35, 40, 45, 50], we define two classes of the most and the leastaffected territories that correspond respectively to those with Y in thebottom and in the top K% of the distribution. For instance, as shown inFig. 5, if 𝐾 = 20 we classify territories in the bottom 20% versus thosein the top 20% of the distribution of Y. This labeling procedure yieldsbalanced samples of increasing size (e.g., 𝐾 = 10 ⇒ 936, 𝐾 = 15 ⇒1402, up to all 4672 observations with Y below/above the median).As a preliminary step, we perform a hierarchical agglomerativeclustering by computing the cosine similarity between Z-standardizedvalues of vectors encoding Italian territories. To understand whetherobservations from the same class tend to cluster together and be wellseparated from the opposite class, thus indicating that a classifier couldreach high levels of accuracy, we evaluate the purity score. Such anindicator is computed when choosing an increasing number of clustersin the hierarchical clustering, i.e., by lowering the distance thresholdto merge clusters in the agglomerative clustering procedure. We reportExpert Systems With Applications 232 (2023) 1208038F. Pierri et al.Table 4AUROC of the classifiers, for different choices of 𝐾. We show the mean metric value obtained through cross-validation (with 𝑘 = 10 folds and 80/20 training/test size ratio), withstandard error in brackets. Best performance for each value of 𝐾 are shown in bold.Classifier K = 10 K = 15 K = 20 K = 25 K = 30 K = 35 K = 40 K = 45 K = 50Baseline 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5K-NN (N = 10) 0.77 (0.01) 0.80 (0.01) 0.79 (0.01) 0.76 (0.01) 0.75 (0.01) 0.74 (0.01) 0.72 (0.01) 0.69 (0.01) 0.66 (0.01)K-NN (N = 20) 0.79 (0.01) 0.81 (0.01) 0.80 (0.01) 0.77 (0.01) 0.77 (0.01) 0.76 (0.01) 0.74 (0.01) 0.71 (0.01) 0.69 (0.01)Logistic Regression 0.81 (0.02) 0.82 (0.01) 0.82 (0.01) 0.80 (0.01) 0.80 (0.01) 0.79 (0.01) 0.77 (0.01) 0.75 (0.01) 0.72 (0.01)MLP 0.75 (0.02) 0.76 (0.01) 0.76 (0.01) 0.75 (0.01) 0.76 (0.01) 0.74 (0.01) 0.72 (0.01) 0.69 (0.01) 0.66 (0.01)Random Forest 0.81 (0.02) 0.84 (0.01) 0.83 (0.01) 0.81 (0.01) 0.81 (0.01) 0.81 (0.01) 0.78 (0.01) 0.76 (0.01) 0.73 (0.01)SVM (linear) 0.80 (0.02) 0.82 (0.01) 0.82 (0.01) 0.80 (0.01) 0.80 (0.01) 0.79 (0.01) 0.77 (0.01) 0.75 (0.01) 0.72 (0.01)SVM (rbf) 0.78 (0.02) 0.82 (0.01) 0.81 (0.01) 0.79 (0.01) 0.80 (0.01) 0.79 (0.01) 0.77 (0.01) 0.75 (0.01) 0.72 (0.01)Table 5F1-score of the classifiers, for different choices of 𝐾. We show the mean metric value obtained through cross-validation (with 𝑘 = 10 folds and 80/20 training/test size ratio), withstandard error in brackets. Best performance for each value of 𝐾 are shown in bold.Classifier K = 10 K = 15 K = 20 K = 25 K = 30 K = 35 K = 40 K = 45 K = 50Baseline 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5K-NN (N = 10) 0.70 (0.01) 0.73 (0.01) 0.72 (0.01) 0.69 (0.01) 0.68 (0.01) 0.67 (0.01) 0.66 (0.01) 0.63 (0.01) 0.60 (0.01)K-NN (N = 20) 0.70 (0.01) 0.75 (0.01) 0.73 (0.01) 0.71 (0.01) 0.69 (0.01) 0.69 (0.01) 0.67 (0.01) 0.65 (0.01) 0.63 (0.01)Logistic Regression 0.74 (0.01) 0.74 (0.01) 0.73 (0.01) 0.72 (0.01) 0.73 (0.01) 0.71 (0.01) 0.69 (0.01) 0.68 (0.01) 0.66 (0.01)MLP 0.68 (0.02) 0.70 (0.01) 0.70 (0.01) 0.68 (0.01) 0.69 (0.01) 0.67 (0.01) 0.66 (0.01) 0.63 (0.01) 0.61 (0.01)Random Forest 0.73 (0.01) 0.77 (0.01) 0.76 (0.01) 0.74 (0.01) 0.74 (0.01) 0.73 (0.01) 0.71 (0.01) 0.70 (0.01) 0.67 (0.01)SVM (linear) 0.73 (0.01) 0.75 (0.01) 0.74 (0.01) 0.72 (0.01) 0.73 (0.01) 0.71 (0.01) 0.69 (0.01) 0.67 (0.01) 0.66 (0.01)SVM (rbf) 0.72 (0.02) 0.75 (0.01) 0.74 (0.01) 0.73 (0.01) 0.73 (0.01) 0.70 (0.01) 0.70 (0.01) 0.68 (0.01) 0.66 (0.01)two findings, as shown in the bottom panel of Fig. 5: first, for allchoices of 𝐾, the purity score is directly proportional to the numberof clusters, as expected by the definition of the purity score; second,clustering observations labeled using small values of 𝐾 (e.g. bottom10% versus top 10%) yields generally higher purity scores comparedto large values of 𝐾 (e.g. bottom 40% versus top 40%), indicating thatit might be harder to distinguish the most and least affected territoriesas we consider larger samples of the dataset. This is interesting, asit means that municipalities that showed a very different economicperformance during the pandemic (i.e., at the two extreme tails of theY distribution) also exhibit stronger differences in terms of pre-existingsocioeconomic characteristics.Next, we train and test several off-the-shelf binary classifiers, asspecified in Section 3.6, for different choices of 𝐾. We show AUROCand F1-score for all classifiers and for increasing values of 𝐾 respec-tively in Tables 4 and 5. Notice that the precision, recall and F1-scoremetrics are all equivalent when the classes are perfectly balanced,hence we show only the last metric. Given the balanced dataset, we firstnotice that all classifiers perform better than a random baseline, whichwould exhibit evaluation metrics equal to 0.5 in all cases (we omit thebaseline in the tables for clarity). We also observe that, for all models,classification performance degrades as we consider increasing valuesof 𝐾, as expected per the preliminary clustering analysis. Besides, theRandom Forest classifier exhibits the best performance (with the high-est values for 𝐾 = 15) in both evaluation metrics and for all choices of𝐾, whereas the single-layer neural network (MLP) exhibits the poorestperformance. Linear classifiers such as the Logistic Regression and SVM(linear) also exhibit performance that is only slightly inferior to theRandom Forest classifier.We further explore the performance of the two best classifiers,namely Logistic Regression and Random Forest, by performing a hy-perparameter tuning. For the former we use the LogisticRegressionCVfunction of scikit-learn, which performs an automatic grid search overthe parameters. For the latter, we use the autoML Python library andselect the best Random Forest classifier with cross-validation based onthe AUROC value. In the case of Logistic Regression we do not reportdifferences compared to the model with default hyperparameters. Wecompare performance of the Random Forest classifier with off-the-shelfparameters versus the optimal configuration obtained through AutoMLin Table 6. We notice only a slight improvement for different values of𝐾, with a positive gain in the range [+1.28%,+4.93%].Table 6Comparison of the mean cross-validated AUROC performance of Random Forestclassifier with default parameters versus optimal configuration found using AutoML.K AUROC default AUROC optimal Gain (%)10 0.81 0.85 +4.9315 0.84 0.84 020 0.83 0.84 +1.2025 0.81 0.83 +2.4630 0.81 0.82 +1.2335 0.81 0.81 040 0.78 0.79 +1.2845 0.76 0.77 +1.3150 0.73 0.74 +1.36To understand the importance of each feature in the classificationtask, we compute SHAP values (Lundberg & Lee, 2017a) for the bestRandom Forest classifier obtained through hyperparameter tuning andevaluated with cross-validation (𝑘 = 10 folds and 80/20 train/testsize ratio) on the data with 𝐾 = 15, where we observed the bestclassification performance. We show results in Fig. 6. We can seethat the features with the largest SHAP magnitude include income-related variables (Income per Capita and Inequality) but also centralitymeasures in the mobility network (Closeness and PageRank) as well asfeatures describing environmental characteristics (Soil Consumption)and the productive structure of territories (Sectors L and F). SHAPvalues with a positive (negative) magnitude indicate which levels offeatures characterize observations that are classified as most affected(least affected) territories; e.g., low values of Income per Capita areassociated with territories that perform better in terms of the Y vari-able. In addition to SHAP values, we also computed the cross-validatedfeature importance of the Random Forest classifier (for 𝐾 = 15),noticing that the ranking is very similar to the one resulting from SHAPvalues (especially the most relevant features), thus strengthening theimportance of the highlighted variables.Accordingly, we show distributions of the top 4 relevant featuresfor the two classes obtained with 𝐾 = 15 in Fig. 7. We can see that, inaccordance with SHAP values, most affected territories exhibit highervalues of the four features. All distributions are statistically differentaccording to Kruskal–Wallis tests (𝑃 < 0.001, 𝛼 = 0.05).We carry out an ablation study to interpret the model performanceby evaluating the cross-validation AUROC and F1-Score of a RandomForest classifier trained and tested on an increasing number of featuresExpert Systems With Applications 232 (2023) 1208039F. Pierri et al.Fig. 6. Summary plot of Shapley values computed with a Random Forest classifier and𝐾 = 15. Features are sorted by the sum of their SHAP value magnitudes.(sorted by their Shapley value in the case when 𝐾 = 15) and fordifferent values of 𝐾. As shown in Fig. 8, the classifier yields the bestperformance for 𝐾 = 15 and the entire set of available features, inaccordance with Tables 4 and 5. However, we observe a very similarperformance when employing as few as 10 features, suggesting thatthe most relevant covariates – as indicated by the SHAP summaryplot (Fig. 6) – are particularly more informative than the others andthat a very simple model can accurately distinguish the two classes ofterritories.4.2. Classification of territories in a given interval of variation in yIn our second classification task, we consider specific (symmetric)intervals in the distribution of Y in order to define the most and leastaffected territories. Specifically, as shown in Fig. 9, we consider territo-ries with Y in the interval [−0.75, −0.25] (respectively [+0.25, +0.75])as the most (respectively least) affected territories. This labeling yieldsan unbalanced dataset with 1725 versus 548 observations in the twoclasses (almost a 3/1 ratio).We do not perform the clustering exercise in this case as the classesare highly imbalanced and the purity score is not suitable, as it wouldbe biased towards the majority class. We, therefore, train and test thesame set of binary classifiers, as in the previous task, and we showtheir performance in terms of weighted Precision, Recall and F1-Scorein Table 7. Notice that we compute the AUPRC instead of the AU-ROC, given the imbalanced dataset. We can observe that all classifiersperform better than a random baseline, with a gain in the range 15%–45% compared to a baseline classifier. Different classifiers are mostlyFig. 7. Distributions of the top 4 relevant features, according to Shapley values, forthe most and the least affected territories when 𝐾 = 15. Triangles indicate the meanvalue of the distribution.Fig. 8. Performance of a Random Forest classifier trained and tested on an increasingnumber of features, sorted decreasingly according to their SHAP value, and for differentvalues of 𝐾. The value of each cell represents the mean value in a 5-fold cross-validationwith 80/20 train/test size ratio.Expert Systems With Applications 232 (2023) 12080310F. Pierri et al.Table 7Performance of different classifiers in predicting territories with Y in the interval [−0.75, −0.25] (more affected class) and [+0.25, +0.75] (lessaffected class). We show mean metric values obtained through cross-validation (with 𝑘 = 10 folds and 80/20 training/test size ratio), whereasbrackets report standard error. Best performance are shown in bold.Classifier AUPRC Weighted precision Weighted recall Weighted F1-scoreBaseline 0.35 (0.02) 0.64 (0.01) 0.64 (0.01) 0.64 (0.01)K-NN (K = 10) 0.46 (0.03) 0.75 (0.01) 0.78 (0.01) 0.73 (0.01)K-NN (K = 20) 0.46 (0.02) 0.72 (0.02) 0.76 (0.01) 0.71 (0.01)Logistic Regression 0.46 (0.02) 0.74 (0.01) 0.76 (0.01) 0.74 (0.01)MLP 0.43 (0.02) 0.72 (0.01) 0.73 (0.01) 0.73 (0.01)Random Forest 0.50 (0.03) 0.75 (0.01) 0.78 (0.01) 0.75 (0.01)SVM (linear) 0.44 (0.02) 0.60 (0.03) 0.76 (0.01) 0.66 (0.01)SVM (rbf) 0.47 (0.03) 0.74 (0.01) 0.77 (0.01) 0.73 (0.01)Fig. 9. Distribution of the Y variable highlighting observations in the interval [−0.75,−0.25] (more affected class) and [+0.25, +0.75] (less affected class).Fig. 10. Municipalities in the North (orange) and South (green) groups. Darker colorindicate higher values of the Y variable.equivalent to each other, with the Random Forest yielding the highestAUPRC value and the MLP exhibiting the worst performance for allmetrics.We compute SHAP values as in the previous classification task,finding a very similar ranking, which we omit for brevity.4.3. Classification of north versus south territoriesIn our third classification problem, we address again the predictionof territories in the tails of the distribution of the Y variable fordifferent values of K, but considering two separate tasks (and thusFig. 11. (top) Distribution of the Y variable highlighting the bottom and top 20%values that indicate, in turn, the most and least affected North territories for 𝐾 = 20.The 𝑥-axis scale is logarithmic. (bottom) Distribution of the Y variable highlightingthe bottom and top 20% values that indicate, in turn, most and least affected Southterritories for 𝐾 = 20. We use the same 𝑦-axis scale for both figures, and some valuesof Y for the bottom panel are not shown as they are larger than 2.training separate classifiers) for, respectively, municipalities in theNorthern and Southern regions of Italy. To classify Italian territoriesbetween North and South we use the Nomenclature of Territorial Unitsfor Statistics (NUTS) adopted by the European Union (EU). For eachEU member country, all its territories are classified in a hierarchy ofthree NUTS levels from most aggregated (NUTS 1) to least aggregated(NUTS 3). Specifically, based on NUTS 1, we label as ‘‘North’’ thosemunicipalities in the North-West and North-East NUTS regions, and as‘‘South’’ those that belong to the South and Island NUTS regions. Thesetwo groups, which comprise respectively 2306 and 1697 observations,are shown in Fig. 10, and exhibit different distributions of the Yvariable, as highlighted in Fig. 11, with Southern territories displayingbetter economic performance, i.e., on average southern territories haveexperienced a smaller reduction in consumption with respect to north-ern ones. Moreover, the most and least affected municipalities in theNorth display less marked differences in terms of variation of economicconsumption with respect to South areas.In Fig. 12, we show the purity score plot for a hierarchical agglom-erative clustering computed using cosine similarity between vectorsof standardized features, separately for the two groups of territoriesand for different values of K. We can notice very different resultsbetween the two regional areas, with a better trade-off in purity scoreversus the number of clusters in the South scenario (purity∼0.7 witha dozen clusters) compared to the North (purity < 0.7 with a dozenclusters), suggesting that territories in the tail of the distribution aremore distinguishable in the latter setting. Moreover, such a resultExpert Systems With Applications 232 (2023) 12080311F. Pierri et al.Fig. 12. Purity score versus the number of clusters obtained through agglomerationclustering, for different choices of 𝐾, respectively for North (top) and South (bottom)territories.confirms that municipalities with very different economic performancesalso exhibit different characteristics.We show the performance of a Random Forest classifier trained andtested on North and South territories separately, and for different valuesof 𝐾, in Fig. 13. We omit other classifiers as they perform worse in allcases. As we can see, the classifier performs much better in the task ofclassifying territories in tails of the distribution in the South scenariocompared to the North scenario. In both cases, we notice a similardecreasing trend in performance for increasing levels of 𝐾, which,however, is less pronounced compared to Tables 4 and 5. Interestingly,we do not observe a maximum at 𝐾 = 15 but rather a minimum in theNorth setting.Finally, we compute SHAP values for 𝐾 = 15 in order to compareresults with the first classification setting. Fig. 14 shows the top 10most relevant features. We can observe a partial overlap (5 out of 10features) and different rankings, which again indicate very differentsocioeconomic characteristics of territories in the two geographicalmacro-regions. Interestingly, we also observe some of the same toprelevant features as in the first classification setting (cf. Fig. 6). Weshow in Fig. 15 the distribution of the top 4 relevant features as inthe first classification problem: we can observe that the distributionsexhibit a higher discrepancy in the South setting compared to theNorth, thus explaining why the classification performance was higherin the former setting.5. DiscussionThis paper introduces a decision analytical framework to predictthe economic resilience of Italian municipalities during the COVID-19pandemic. We highlight that local pre-existing socioeconomic char-acteristics constitute relevant variables to forecast the resilience ofterritories to this healthcare emergency. Indeed, the most and leastaffected municipalities can be classified with adequate performancethrough off-of-the-shelf classifiers based on a set of features combiningnetwork-based measures with factors covering the social, economic,demographic and environmental dimensions. Across different estimatedmodels, the most accurate results tend to be achieved through a ran-dom forest approach, although a similar performance is obtained withsimpler linear-based models such as logistic regression and SVM.We show that income per capita, network closeness, soil consump-tion, Pagerank centrality and employment concentration in specificsectors represent the most relevant drivers to predict the variation ofFig. 13. Classification performance of a Random Forest classifier, evaluated fordifferent values of 𝐾 and separately for North and South territories. Points correspondto the mean metric value obtained through cross-validation (with 𝑘 = 10 folds and80/20 training/test size ratio), whereas dashed areas show the standard error.Fig. 14. Summary plot of Shapley values computed with a Random Forest classifierand 𝐾 = 15, separately for North (top) and South (bottom) territories.Expert Systems With Applications 232 (2023) 12080312F. Pierri et al.Fig. 15. Distributions of features for the most and the least affected North and Southterritories, when 𝐾 = 15. Triangles indicate the mean value of the distribution.economic consumption across Italian municipalities. In particular, theleast resilient territories are characterized by higher values of suchvariables. Furthermore, we highlight that our model properly classifiesmost and least affected territories also in unbalanced scenarios andwhen we restrict the analysis to specific geographical areas. Interest-ingly, better classification performances are obtained for municipalitiesin the South of Italy, where a larger distance in terms of economicperformances between the most and least affected territories is asso-ciated with stronger differences in terms of pre-existing socioeconomiccharacteristics between the two groups.Our results confirm previous evidence from Costa et al. (2022)and Ferraresi et al. (2021) highlighting a lower resilience of the Con-struction sector and the relevance of the local economic structure to ex-plain the vulnerability of economic systems to the COVID-19 pandemic,with sectors more affected by social distancing measures displayinghigher economic losses. Our estimates are also in line with Cardoniet al. (2021) showing that more populated areas exhibit lower resiliencelevels during the COVID-19 pandemic. Furthermore, the link betweenlower economic resilience and higher income per capita might beexplained by the larger number of infections observed in wealthierterritories as shown by Ascani et al. (2020). Conversely, such evidenceis in contrast with results from Liu et al. (2021) who highlight thatareas with larger GDP per capita experience a faster recovery fromfloods. This difference may be explained by the heterogeneous natureof analyzed shocks, with drivers of resilience that may be different incase of a natural disaster with respect to a pandemic.Our models corroborate that a larger presence of workers in es-sential sectors contributes to regional resilience, consistently with As-cani et al. (2021) and Ferraresi et al. (2021). We rather do not findsignificant lower vulnerability in case of higher economy diversifi-cation differently from Tan et al. (2020) and theoretical contribu-tion from Boschma (2015), Christopherson et al. (2010) and Simmieand Martin (2010), thus highlighting the peculiarity of the COVID-19pandemic with respect to other shocks.Therefore, due to the specificity of the COVID-19 pandemic, webelieve that relevant drivers of resilience to the healthcare emergencycannot be directly extended in case of other types of shocks. Nonethe-less, our proposed framework of analysis could be adopted by policymakers to deal with alternative kinds of shocks including naturaldisasters, pandemics and other man-made extreme events. In particular,regulators should collect different factors influencing the resilienceof territories. Using variables covering the demographic, economic,environmental, education, health, infrastructure and social dimensionsshould provide a flexible group of factors allowing to deal with theconcept of resilience in a wide set of shocks. Furthermore, they shouldselect a suitable measure of resilience. We propose a high frequency andspatially granular variable to allow almost real time analysis. However,alternatives may be represented by aggregation of input factors ofresilience, depending on the data availability and urgency to obtaintimely evidence. Moreover, a wide set of statistical modeling techniquescan be employed to obtain robust evidence of the most relevant driversof resilience and to identify those factors where policy makers couldinvest to reduce the vulnerability of territories to external shocks.5.1. LimitationsThere are some limitations to our approach. First, our dependentvariable represents a proxy of the full shock associated with COVID-19, hence there are other socio-economical dimensions that may bebetter tracked with different indicators. Secondly, despite our datasetcovering a significant share of the relevant dimensions of Italian ter-ritories, it could be expanded to include a greater set of variables,for instance regarding environmental performance and infrastructureendowment. Furthermore, in this work, we have attempted to balanceclassification performance with model explainability avoiding methodsthat are difficult to interpret, despite being more performant. Hence adifferent methodological approach may be adopted to achieve betterclassification results. Alternatively, we may design a causal frameworkthat employs regression models to explain the individual performanceof each territory as well as quantify how different socio-economic en-dowments contribute to different levels of economic resilience Finally,despite our choice of a flexible framework, there are aspects of ourapproach that are specifically tailored to the Italian context and tothe COVID-19 emergency. A careful consideration of the variables toinclude in the model may be necessary to generalize our approach toother territorial contexts.5.2. ConclusionsWe presented a machine learning framework to predict the eco-nomic resilience to crises of Italian municipalities based on local pre-existing socioeconomic characteristics, analyzing the first wave of theCOVID-19 pandemic and leveraging a large-scale dataset of bank trans-actions. Overall, our analysis contributes to the literature on expert andExpert Systems With Applications 232 (2023) 12080313F. Pierri et al.intelligent systems for policy-making by providing an application thatcan support decision-makers in making optimal data-driven decisionsduring the early stages of relevant crisis episodes, exploiting availablehigh-frequency real-world information.CRediT authorship contribution statementFrancesco Pierri: Conceptualization, Methodology, Formal anal-ysis, Software, Validation, Investigation, Writing, Visualization.Francesco Scotti: Conceptualization, Methodology, Validation,Writing. Giovanni Bonaccorsi: Conceptualization, Methodology,Validation, Data curation, Writing. Andrea Flori: Conceptualization,Methodology, Writing, Supervision. Fabio Pammolli: Resources,Supervision.Declaration of competing interestThe authors declare that they have no known competing financialinterests or personal relationships that could have appeared toinfluence the work report